{% extends "base.html" %}

{% block title %}Registrar Cita{% endblock %}

{% block content %}
<div class="container mt-4">

    <h1 class="mb-4">Registrar Cita</h1>

    <!-- Mensajes de error -->
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="POST" action="/citas/guardar">

        <div class="mb-3">
            <label class="form-label">Paciente</label>
            <select name="paciente_id" class="form-select" required>
                <option value="">Seleccione un paciente</option>
                {% for p in pacientes %}
                <option value="{{ p.id }}">{{ p.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Médico</label>
            <select name="medico_id" class="form-select" required>
                <option value="">Seleccione un médico</option>
                {% for m in medicos %}
                <option value="{{ m.id }}">{{ m.nombre }} ({{ m.especialidad }})</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Fecha</label>
            <input type="date" name="fecha" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Hora</label>
            <input type="time" name="hora" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Motivo</label>
            <textarea name="motivo" class="form-control" required></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="/citas" class="btn btn-secondary">Cancelar</a>

    </form>

</div>
{% endblock %}
